"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9102],{9102:(w,l,n)=>{n.r(l),n.d(l,{ProductPageModule:()=>T});var g=n(9808),f=n(4182),r=n(5649),s=n(761),a=n(655),t=n(2096),p=n(3927),m=n(849);function P(i,c){1&i&&(t.TgZ(0,"ion-row")(1,"ion-col",4),t._UZ(2,"ion-spinner"),t.TgZ(3,"h1"),t._uU(4,"Loading"),t.qZA()()())}function h(i,c){if(1&i){const o=t.EpF();t.TgZ(0,"ion-button",14),t.NdJ("click",function(e){return t.CHM(o),t.oxw(2).addProductToFavorites(e)}),t._UZ(1,"ion-icon",15),t.qZA()}if(2&i){const o=t.oxw(2);t.s9C("id",o.product.id)}}function v(i,c){if(1&i){const o=t.EpF();t.TgZ(0,"ion-button",14),t.NdJ("click",function(e){return t.CHM(o),t.oxw(2).removeProductFromFavorites(e)}),t._UZ(1,"ion-icon",16),t.qZA()}if(2&i){const o=t.oxw(2);t.s9C("id",o.product.id),t.xp6(1),t.s9C("name",o.favorite?"heart":"heart-outline")}}function Z(i,c){if(1&i&&(t.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-card",1)(3,"ion-card-header",5)(4,"ion-card-title"),t._uU(5),t.qZA()(),t.TgZ(6,"ion-card-content")(7,"ion-grid",6)(8,"ion-row",7)(9,"ion-col",8)(10,"ion-text",9)(11,"h4"),t._uU(12,"Description:"),t.qZA(),t.TgZ(13,"p"),t._uU(14),t.qZA()()(),t.TgZ(15,"ion-col",10)(16,"ion-card"),t._UZ(17,"ion-img",11),t.qZA()()(),t.TgZ(18,"ion-row",4)(19,"ion-col")(20,"ion-text")(21,"h3"),t._uU(22),t.qZA()()()(),t.TgZ(23,"ion-row",4)(24,"ion-col"),t.YNc(25,h,2,1,"ion-button",12),t.YNc(26,v,2,2,"ion-button",12),t.TgZ(27,"ion-button",13),t._uU(28,"Buy"),t.qZA()()()()()()()()),2&i){const o=t.oxw();t.xp6(5),t.Oqu(o.product.title),t.xp6(9),t.Oqu(o.product.description),t.xp6(3),t.s9C("src",o.product.image),t.xp6(5),t.hij("Price: ",o.product.price,""),t.xp6(3),t.Q6J("ngIf",!o.favorite),t.xp6(1),t.Q6J("ngIf",o.favorite)}}const _=[{path:"",component:(()=>{class i{constructor(o,u,e){this.route=o,this.crud=u,this.storage=e,this.id=null,this.product=null,this.favorite=!1}ngOnInit(){return(0,a.mG)(this,void 0,void 0,function*(){this.id=+this.route.snapshot.paramMap.get("id"),this.getProductDetail(),yield this.storage.create(),this.isFavorite()})}isFavorite(){return(0,a.mG)(this,void 0,void 0,function*(){this.favorite=(yield this.storage.keys()).filter(e=>+e===this.id).length>0})}getProductDetail(){this.crud.getSpecificData("/products",this.id).subscribe(o=>{this.product=o},o=>{console.error(o)})}addProductToFavorites(o){return(0,a.mG)(this,void 0,void 0,function*(){let e=(o.target||o.currentTarget||o.srcElement).attributes.id.value;confirm("Do you want to add this product on favorites?")?(alert("Product added with success"),yield this.storage.set(e,this.product),this.favorite=!0):alert("Operation canceled succefully")})}removeProductFromFavorites(o){return(0,a.mG)(this,void 0,void 0,function*(){let e=(o.target||o.srcElement||o.currentTarget).attributes.id.value;window.confirm("Do you want remove the favorite product selected?")?(yield this.storage.remove(e),this.favorite=!1,alert("Product remove succefully")):alert("Operation canceled succefuly")})}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(s.gz),t.Y36(p.I),t.Y36(m.K))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-product"]],decls:10,vars:3,consts:[[3,"translucent"],["color","primary"],["slot","start"],[4,"ngIf"],[1,"ion-text-center"],[1,"ion-margin-top","ion-text-center"],[1,"ion-no-padding"],[1,"ion-align-items-center"],["size-md","8"],[1,"ion-margin"],["size-md","4","size","12"],[1,"ion-margin",3,"src"],["color","warning",3,"id","click",4,"ngIf"],["color","danger"],["color","warning",3,"id","click"],["name","heart-outline"],[3,"name"]],template:function(o,u){1&o&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),t._UZ(3,"ion-back-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"Product"),t.qZA()()(),t.TgZ(6,"ion-content")(7,"ion-grid"),t.YNc(8,P,5,0,"ion-row",3),t.YNc(9,Z,29,6,"ion-row",3),t.qZA()()),2&o&&(t.Q6J("translucent",!0),t.xp6(8),t.Q6J("ngIf",!u.product),t.xp6(1),t.Q6J("ngIf",u.product))},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.wd,r.W2,r.jY,g.O5,r.Nd,r.wI,r.PQ,r.PM,r.Zi,r.Dq,r.FN,r.yW,r.Xz,r.YG,r.gu],styles:[""]}),i})()}];let x=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[s.Bz.forChild(_)],s.Bz]}),i})(),T=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[g.ez,f.u5,r.Pc,x]]}),i})()}}]);