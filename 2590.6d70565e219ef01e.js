"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2590],{2590:(P,l,e)=>{e.r(l),e.d(l,{LoginPageModule:()=>L});var m=e(9808),r=e(4182),i=e(5649),g=e(761),u=e(655),o=e(2096),c=e(3927),h=e(849);const p=[{path:"",component:(()=>{class n{constructor(t,a,d,v){this.crud=t,this.fb=a,this.alert=d,this.storage=v}ngOnInit(){return(0,u.mG)(this,void 0,void 0,function*(){this.buildForm(),yield this.storage.create()})}buildForm(){this.formLogin=this.fb.group({username:[""],password:[""]})}sendForm(){this.login=this.formLogin.value,console.log(this.login),this.crud.login("/auth/login",this.login).subscribe(t=>{this.storage.set("token",t)},t=>{console.error(t),this.showError(t)})}showError(t){return(0,u.mG)(this,void 0,void 0,function*(){yield(yield this.alert.create({header:"Error",message:t,buttons:["Ok"]})).present()})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(c.I),o.Y36(r.qu),o.Y36(i.Br),o.Y36(h.K))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:31,vars:1,consts:[[1,"ion-justify-content-center"],["size-md","4"],[3,"formGroup","ngSubmit"],["position","stacked",1,"ion-margin-bottom"],["type","email","name","email","formControlName","username"],["position","stacked"],["type","password","name","password","formControlName","password"],["expand","block","type","submit"]],template:function(t,a){1&t&&(o.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o._uU(3,"Login"),o.qZA()()(),o.TgZ(4,"ion-content")(5,"ion-grid")(6,"ion-row",0)(7,"ion-col",1)(8,"ion-card")(9,"ion-card-header")(10,"ion-card-title"),o._uU(11," Login "),o.qZA()(),o.TgZ(12,"ion-card-content")(13,"form",2),o.NdJ("ngSubmit",function(){return a.sendForm()}),o.TgZ(14,"ion-grid")(15,"ion-row")(16,"ion-col")(17,"ion-item")(18,"ion-label",3),o._uU(19,"Email"),o.qZA(),o._UZ(20,"ion-input",4),o.qZA()()(),o.TgZ(21,"ion-row")(22,"ion-col")(23,"ion-item")(24,"ion-label",5),o._uU(25,"Password"),o.qZA(),o._UZ(26,"ion-input",6),o.qZA()()(),o.TgZ(27,"ion-row")(28,"ion-col")(29,"ion-button",7),o._uU(30,"Enter"),o.qZA()()()()()()()()()()()),2&t&&(o.xp6(13),o.Q6J("formGroup",a.formLogin))},directives:[i.Gu,i.sr,i.wd,i.W2,i.jY,i.Nd,i.wI,i.PM,i.Zi,i.Dq,i.FN,r._Y,r.JL,r.sg,i.Ie,i.Q$,i.pK,i.j9,r.JJ,r.u,i.YG],styles:[""]}),n})()}];let f=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[g.Bz.forChild(p)],g.Bz]}),n})(),L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[m.ez,r.u5,i.Pc,f,r.UX]]}),n})()}}]);